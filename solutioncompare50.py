import matplotlib.pyplot as plt
import numpy as np
labels = ['MTDCAP','CIST','Mini-MAC','Mini-MAC-AES']
send = [
      [718,714,714,713,721,718,721,727,729,733,710,709,712,728,718,709,755,731,774,749,799,757,730,754,771,776,736,757,745,754,736,744,731,766,736,740,729,737,776,762,751,757,761,737,747,767,750,741,1330,1305],
      [878,864,845,856,839,937,815,808,797,795,804,801,807,812,956,808,811,808,822,810,810,800,815,819,814,809,828,812,806,793,806,862,880,877,911,904,853,852,869,846,848,834,832,846,854,841,963,856,955,833],
      [482,463,527,516,504,511,513,506,519,508,518,503,510,505,503,561,472,466,465,463,474,527,477,467,470,461,459,466,606,525,509,511,515,508,512,511,522,532,523,534,540,523,497,532,478,520,474,477,520,540],
      [900, 833, 870, 815, 854, 805, 799, 861, 820, 826, 800, 881, 837, 842, 805, 875, 864, 848, 814, 848, 846, 855, 831, 829, 866, 808, 803, 863, 848, 917, 786, 851, 837, 860, 853, 842, 881, 852, 826, 806, 884, 845, 845, 809, 797, 803, 863, 836, 884, 845]
]

trans = 70

receive = [
      [271,298,268,273,261,256,275,260,264,267,261,284,277,270,259,269,282,275,288,281,275,268,265,298,269,272,264,271,276,277,268,267,261,272,270,268,268,286,267,265,266,261,265,267,279,265,268,266,418,419],
      [407,390,387,430,409,389,383,393,394,418,412,396,392,388,385,388,390,396,410,491,409,392,392,389,383,388,384,386,397,396,402,502,403,390,387,383,383,384,415,393,406,488,435,402,390,385,386,388,397,396],
      [269,265,279,276,271,291,271,281,276,274,272,281,271,276,281,277,276,275,280,250,272,280,259,348,263,264,260,264,264,261,263,262,262,357,283,271,272,275,277,276,272,270,279,274,268,275,280,261,271,264],
      [587, 649, 609, 613, 617, 631, 632, 613, 585, 593, 684, 636, 607, 611, 608, 587, 595, 600, 621, 608, 620, 613, 578, 635, 618, 580, 609, 608, 609, 623, 619, 609, 605, 620, 616, 581, 623, 588, 608, 614, 634, 630, 639, 603, 614, 609, 580, 607, 588, 608]
]
genID = [1264,1108,1098,1092,1092,1103,1105,1101,1098,1095,1109,1186,1095,1098,1181,1103,1127,1208,1091,1093,1107,1097,1101,1092,1101,1106,1108,1100,1223,1101,1212,1097,1097,1190,1111,1103,1103,1091,1109,1094,1102,1097,1197,1098,1105,1107,1102,1101,1105,1097]
data = []
for i in range(4):
    sum = 0
    for j in range(50):
        sum += send[i][j] + trans + receive[i][j]
    if i == 0:
        sum+=np.mean(genID)
    data.append(sum)
newData = [i / 1000 for i in data]
print(newData)
x = np.arange(len(labels))
width = 0.3
fig, ax = plt.subplots()

rects = ax.bar(x, newData, width , color=['#40E0D0','#FF6347','#98FB98','#FFA500'])
# rects = ax.bar(x, newData, width , color=['black','white','white','white'], edgecolor=['black','black','black','black'],
#                hatch = [None,"\\\\\\","ooo","///"])

ax.set_ylabel('Computer time (ms)',fontsize=13)
ax.set_xticks(x)
ax.set_xticklabels(labels,fontsize=13)
fig.savefig('./solutioncompare50.eps',dpi=600,format='eps')
plt.show()